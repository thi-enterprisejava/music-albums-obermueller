<?xml version="1.0" encoding="UTF-8"?>
<ui:composition template="/META-INF/templates/template.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f="http://xmlns.jcp.org/jsf/core">
    <f:metadata>
        <f:viewAction action="#{userManagement.initForPasswordChange()}" />
    </f:metadata>
    <ui:param name="title" value="#{msg['changePassword.title']}"/>
    <ui:define name="content">
        <div class="content_container">
            <div class="content_header"><h4>#{msg['changePassword.title']}</h4></div>
            <h:form id="form">
                <h:messages globalOnly="true"/>
                <div class="col_6 edit_user" align="center">
                    <table cellspacing="0" cellpadding="0" class="form">
                        <tr>
                            <td><h:outputLabel  value="#{msg['user.username']}:"/></td>
                            <td>#{userManagement.user.username}
                            </td>
                        </tr>
                        <tr>
                            <td><h:outputLabel for="password" value="#{msg['user.password']}:"/></td>
                            <td><h:message for="password"/>
                               <h:inputSecret id="password" size="30" maxlength="30" required="true"
                                               value="#{userManagement.user.password}">
                                   <f:validator binding="#{passwordValidator}" />
                                   <f:attribute name="confirmPassword" value="#{confirmPassword}" />
                               </h:inputSecret>
                            </td>
                        </tr>
                        <tr>
                            <td><h:outputLabel for="confirmPassword" value="#{msg['user.passwordRepeat']}:"/></td>
                            <td>
                                <h:inputSecret id="confirmPassword" size="30" maxlength="30" required="true" binding="#{confirmPassword}"/>
                            </td>
                        </tr>
                    </table>
                </div>
                <div class="clear"></div>
                <h:commandButton id="save" styleClass="button_add" action="#{userManagement.doChangePassword}" value="#{msg['common.save']}"/>
                <h:commandButton id="cancel" styleClass="button_add" value="#{msg['common.cancel']}" action="#{userManagement.doCancelChangePassword}" immediate="true"/>
            </h:form>
        </div>
    </ui:define>
</ui:composition>